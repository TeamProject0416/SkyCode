<script>
    // 현재 URL 가져오기
    var currentUrl = window.location.href;

    // URL에서 매개변수를 추출하는 함수
    function getParameterByName(name, url) {
        if (!url) {
            url = window.location.href;
        }
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    // URL에서 amount 매개변수 값을 가져와서 출력
    var amount = getParameterByName("amount", currentUrl);
    if (amount !== null) {
        console.log("Amount: " + amount);
    } else {
        console.log("Amount 매개변수를 찾을 수 없습니다.");
    }

    // 부모 창이 있는지 확인
    if (window.opener) {
        alert('쿠키가 ' + amount + '원 충전완료 하였습니다.');
        window.close(); // 팝업 창일 경우 닫기
    } else {
        alert('쿠키가 ' + amount + '원 충전완료 하였습니다.');
        window.location.href = "/main"; // 팝업 창이 아닐 경우 "/main" 페이지로 이동
    }

</script>